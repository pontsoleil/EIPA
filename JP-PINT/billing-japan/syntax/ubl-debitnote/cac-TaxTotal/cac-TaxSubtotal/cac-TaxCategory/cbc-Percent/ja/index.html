
<!DOCTYPE html>
<html lang="ja">
<head>
	<title>Japanese PEPPOL BIS Documentation</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="icon" href="https://www.wuwei.space/jp_pint/billing-japan/favicon.ico">
	<!-- font awesome 4 -->
	<link rel="stylesheet" href="/font-awesome-4.7.0/css/font-awesome.min.css">
	<script src="https://kit.fontawesome.com/d109b16d3e.js" crossorigin="anonymous"></script>
	<!-- bootstrap 4 and jQuery 3
		If you’re using our compiled JavaScript, don’t forget to include CDN versions of jQuery and Popper.js before it.
		https://getbootstrap.com/docs/4.0/getting-started/download/
	-->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<!-- this page -->
	<link rel="stylesheet" href="/billing-japan/css/main.css" crossorigin="anonymous">
	<script src="/billing-japan/js/main.js" crossorigin="anonymous"></script>
</head><body>
	<div id="infoCAR_Modal" class="modal" tabindex="-1" role="dialog">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<p class="mb-0">
						<span style="font-size:xx-large">繰返しの違いの調整</span><br>
						CEN/TS 16931-3-1 Electronic invoicing - <br>
						Part 3-1: Methodology for syntax bindings of the core elements of an electronic invoice<br>
						4.4 Cardinality assesment
					</p>

					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					
	<dl class="row">
		<dt class="col-3">CAR-1</dt>
		<dd class="col-9">Semantic: optional(0..x) → Syntax: mandatory(1..x)<br />
			[問題] 要素がないと、UBLのスキーマ検証でエラーとなる。<br />
			[対策] 欠損した時のデフォルト値を決めておく。(例 0, 1-1-1970, AAA)
		</dd>
		<dt class="col-3">CAR-2</dt>
		<dd class="col-9">Semantic: mandatory(1..x) → Syntax: optional(0..x)<br />
			[問題] 問題なし。<br />
			[対策] データがなければならないことをスキーマトロンでルール定義する。
		</dd>
		<dt class="col-3">CAR-3</dt>
		<dd class="col-9">Semantic: single(x..1) → Syntax: multiple(x..n)<br />
			[問題] 問題なし。<br />
			[対策] データを繰り返さないようにスキーマトロンでルール定義する。
		</dd>
		<dt class="col-3">CAR-4</dt>
		<dd class="col-9">Semantic: multiple(x..n) → Syntax: single(x..1)<br />
			[問題] 繰返された要素は、受け付けられない。<br />
			[対策]<br />
			&nbsp;&nbsp;1) 可能なときには、上位の要素で繰り返す。<br />
			&nbsp;&nbsp;2) テキストデータのときには、文章を連結する。
		</dd>
		<dt class="col-3">CAR-5</dt>
		<dd class="col-9">element missing → Syntax: element mandatory<br />
			[問題] 問題。<br />
			[対策] 欠損した時のデフォルト値を決めておく。(例 0, 1-1-1970, AAA)
		</dd>
	</dl>

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div id="ie-warning" class="container h-100" style="display:none">
	<p class="lead">注：すべての項目名は、Peppol International Invoicing (PINT)からのものです。共通して同じ名称が、都度請求書、合算請求書、納品書で使われています。違いは、ビジネスプロセスタイプ (Profile ID)と仕様ID (Customization ID)です。XML要素名、属性名は、UBL 2.1 Invoice に基づいています。</p>
	</div>
	<div id="itemInfoModal" class="modal fade" tabindex="-1" role="dialog">
		<div class="modal-dialog modal-xl" role="document">
			<div class="modal-content">
				<div class="modal-header">凡例</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					
	<h5>CEN/TS 16931-3-2</h5>
	<p>Electronic invoicing - Part 3-2:Syntax binding for ISO/IEC 19845(UBL 2.1) invoice and credit note</p>
	<h6>4.2 Data types</h6>
	<p class="text-center">Table 1 -- UBL data types</p>
	<table class="syntax table table-sm table-hover" style="table-layout: fixed; width: 100%;">
		<colgroup>
			<col span="1" style="width: 50%;">
			<col span="1" style="width: 50%;">
		</colgroup>
		<thead class="thead-light">
			<th>Smantic data typee</th>
			<th>UBL unqualified data type</th>
		</thead>
		<tbody class="table-striped">
			<tr><td>Amount</td><td>AmountType</td></tr>
			<tr><td>Code</td><td>CodeType<br />IdentifierType<br />TextType</td></tr>
			<tr><td>Date</td><td>DateType</td></tr>
			<tr><td>Identifier</td><td>IdentifierType<br />CodeType</td></tr>
			<tr><td>Percent</td><td>PercentType<br />NumericType</td></tr>
			<tr><td>Quantity</td><td>QuantityType</td></tr>
			<tr><td>Text</td><td>TextType<br />NameType<br />IdentifierType</td></tr>
			<tr><td>Unit Price Amount</td><td>AmountType</td></tr>
			<tr><td>BinaryObject</td><td>BinaryObjectType</td></tr>
			<tr><td>Document Reference Type</td><td>IdentifierType</td></tr>
			<tr><td>Attributes</td><td>IdentifierType<br />CodeType<br />TextType</td></tr>
		</tbody>
	</table>

		<br />
		<hr>
		<h5>UBL 2.1</h5>
		<h6>UBL-UnqualifiedDataTypes-2.1</h6>
		<p class="namespace text-center">Table 2 -- urn:oasis:names:specification:ubl:schema:xsd:UnqualifiedDataTypes-2</p>
		<table class="syntax table table-sm table-hover" style="table-layout: fixed; width: 100%;">
			<colgroup>
				<col span="1" style="width: 15%;">
				<col span="1" style="width: 15%;">
				<col span="1" style="width: 18%;">
				<col span="1" style="width: 12%;">
				<col span="1" style="width: 8%;">
				<col span="1" style="width: 32%;">
			</colgroup>
			<thead class="thead-light">
				<th>UniqueID</th>
				<th>name</th>
				<th>base / type</th>
				<th>PrimitiveType</th>
				<th>use</th>
				<th>Definition</th>
			</thead>
			<tbody class="table-striped">
	<tr><td>UBLUDT000001</td><td><strong>AmountType</strong></td><td>ccts-cct:AmountType</td><td>&nbsp;</td><td>&nbsp;</td><td>A number of monetary units specified using a given unit of currency.</td></tr><tr><td>UNDT000001-SC2</td><td>@currencyID</td><td>xsd:normalizedString</td><td>string</td><td>required</td><td>The currency of the amount.<br />Reference UNECE Rec 9, using 3-letter alphabetic codes.</td></tr><tr><td>UBLUDT000002</td><td><strong>BinaryObjectType</strong></td><td>ccts-cct:BinaryObjectType</td><td>&nbsp;</td><td>&nbsp;</td><td>A set of finite-length sequences of binary octets.</td></tr><tr><td>UNDT000002-SC3</td><td>@mimeCode</td><td>xsd:normalizedString</td><td>string</td><td>required</td><td>The mime type of the binary object.</td></tr><tr><td>UBLUDT000008</td><td><strong>DateTimeType</strong></td><td>xsd:dateTime</td><td>&nbsp;</td><td>&nbsp;</td><td>A particular point in the progression of time, together with relevant supplementary information.</td></tr><tr><td>UBLUDT000009</td><td><strong>DateType</strong></td><td>xsd:date</td><td>&nbsp;</td><td>&nbsp;</td><td>One calendar day according the Gregorian calendar.</td></tr><tr><td>UBLUDT0000010</td><td><strong>TimeType</strong></td><td>xsd:time</td><td>&nbsp;</td><td>&nbsp;</td><td>An instance of time that occurs every day.</td></tr><tr><td>UBLUDT0000011</td><td><strong>IdentifierType</strong></td><td>ccts-cct:IdentifierType</td><td>&nbsp;</td><td>&nbsp;</td><td>A character string to identify and uniquely distinguish one instance of an object in an identification scheme from all other objects in the same scheme, together with relevant supplementary information.</td></tr><tr><td>UBLUDT0000012</td><td><strong>IndicatorType</strong></td><td>xsd:boolean</td><td>&nbsp;</td><td>&nbsp;</td><td>A list of two mutually exclusive Boolean values that express the only possible states of a property.</td></tr><tr><td>UBLUDT0000014</td><td><strong>NumericType</strong></td><td>ccts-cct:NumericType</td><td>&nbsp;</td><td>&nbsp;</td><td>Numeric information that is assigned or is determined by calculation, counting, or sequencing. It does not require a unit of quantity or unit of measure.</td></tr><tr><td>UBLUDT0000016</td><td><strong>PercentType</strong></td><td>ccts-cct:NumericType</td><td>&nbsp;</td><td>&nbsp;</td><td>Numeric information that is assigned or is determined by calculation, counting, or sequencing and is expressed as a percentage. It does not require a unit of quantity or unit of measure.</td></tr><tr><td>UBLUDT0000018</td><td><strong>QuantityType</strong></td><td>ccts-cct:QuantityType</td><td>&nbsp;</td><td>&nbsp;</td><td>A counted number of non-monetary units, possibly including a fractional part.</td></tr><tr><td>UBLUDT0000019</td><td><strong>TextType</strong></td><td>ccts-cct:TextType</td><td>&nbsp;</td><td>&nbsp;</td><td>A character string (i.e. a finite set of characters), generally in the form of words of a language.</td></tr><tr><td>UBLUDT0000020</td><td><strong>NameType</strong></td><td>ccts-cct:TextType</td><td>&nbsp;</td><td>&nbsp;</td><td>A character string that constitutes the distinctive designation of a person, place, thing or concept.</td></tr></tbody></table>
		<br />
		<h6>CCTS_CCT_SchemaModule-2.1.xsd</h6>
		<p class="text-center">Table 3 -- ccts-cct urn:un:unece:uncefact:data:specification:CoreComponentTypeSchemaModule:2</p>
		<table class="syntax table table-sm table-hover" style="table-layout: fixed; width: 100%;">
			<colgroup>
				<col span="1" style="width: 15%;">
				<col span="1" style="width: 20%;">
				<col span="1" style="width: 15%;">
				<col span="1" style="width: 10%;">
				<col span="1" style="width: 8%;">
				<col span="1" style="width: 32%;">
			</colgroup>
			<thead class="thead-light">
				<th>UniqueID</th>
				<th>name</th>
				<th>base / type</th>
				<th>PrimitiveType</th>
				<th>use</th>
				<th>Definition</th>
			</thead>
			<tbody class="table-striped">
	<tr><td>UNDT000001</td><td><strong>AmountType</strong></td><td>xsd:decimal</td><td>decimal</td><td>&nbsp;</td><td>A number of monetary units specified in a currency where the unit of the currency is explicit or implied.</td></tr><tr><td>UNDT000001-SC2</td><td>@currencyID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The currency of the amount.<br />Reference UNECE Rec 9, using 3-letter alphabetic codes.</td></tr><tr><td>UNDT000001-SC3</td><td>@currencyCodeListVersionID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The VersionID of the UN/ECE Rec9 code list.</td></tr><tr><td>UNDT000002</td><td><strong>BinaryObjectType</strong></td><td>xsd:base64Binary</td><td>binary</td><td>&nbsp;</td><td>A set of finite-length sequences of binary octets.</td></tr><tr><td>UNDT000002-SC2</td><td>@format</td><td>xsd:string</td><td>string</td><td>optional</td><td>The format of the binary content.</td></tr><tr><td>UNDT000002-SC3</td><td>@mimeCode</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The mime type of the binary object.</td></tr><tr><td>UNDT000002-SC4</td><td>@encodingCode</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>Specifies the decoding algorithm of the binary object.</td></tr><tr><td>UNDT000002-SC5</td><td>@characterSetCode</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The character set of the binary object if the mime type is text.</td></tr><tr><td>UNDT000002-SC6</td><td>@uri</td><td>xsd:anyURI</td><td>string</td><td>optional</td><td>The Uniform Resource Identifier that identifies where the binary object is located.</td></tr><tr><td>UNDT000002-SC7</td><td>@filename</td><td>xsd:string</td><td>string</td><td>optional</td><td>The filename of the binary object.</td></tr><tr><td>UNDT000007</td><td><strong>CodeType</strong></td><td>xsd:normalizedString</td><td>string</td><td>&nbsp;</td><td>A character string (letters, figures, or symbols) that for brevity and/or languange independence may be used to represent or replace a definitive value or text of an attribute together with relevant supplementary information.</td></tr><tr><td>UNDT000007-SC2</td><td>@listID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The identification of a list of codes.</td></tr><tr><td>UNDT000007-SC3</td><td>@listAgencyID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>An agency that maintains one or more lists of codes.<br />Defaults to the UN/EDIFACT data element 3055 code list.</td></tr><tr><td>UNDT000007-SC4</td><td>@listAgencyName</td><td>xsd:string</td><td>string</td><td>optional</td><td>The name of the agency that maintains the list of codes.</td></tr><tr><td>UNDT000007-SC5</td><td>@listName</td><td>xsd:string</td><td>string</td><td>optional</td><td>The name of a list of codes.</td></tr><tr><td>UNDT000007-SC6</td><td>@listVersionID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The version of the list of codes.</td></tr><tr><td>UNDT000007-SC7</td><td>@name</td><td>xsd:string</td><td>string</td><td>optional</td><td>The textual equivalent of the code content component.</td></tr><tr><td>UNDT000007-SC8</td><td>@languageID</td><td>xsd:language</td><td>string</td><td>optional</td><td>The identifier of the language used in the code name.</td></tr><tr><td>UNDT000007-SC9</td><td>@listURI</td><td>xsd:anyURI</td><td>string</td><td>optional</td><td>The Uniform Resource Identifier that identifies where the code list is located.</td></tr><tr><td>UNDT000007-SC10</td><td>@listSchemeURI</td><td>xsd:anyURI</td><td>string</td><td>optional</td><td>The Uniform Resource Identifier that identifies where the code list scheme is located.</td></tr><tr><td>UNDT000008</td><td><strong>DateTimeType</strong></td><td>xsd:string</td><td>string</td><td>&nbsp;</td><td>A particular point in the progression of time together with the relevant supplementary information.</td></tr><tr><td>UNDT000008-SC1</td><td>@format</td><td>xsd:string</td><td>string</td><td>optional</td><td>The format of the date time content</td></tr><tr><td>UNDT000011</td><td><strong>IdentifierType</strong></td><td>xsd:normalizedString</td><td>string</td><td>&nbsp;</td><td>A character string to identify and distinguish uniquely, one instance of an object in an identification scheme from all other objects in the same scheme together with relevant supplementary information.</td></tr><tr><td>UNDT000011-SC2</td><td>@schemeID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The identification of the identification scheme.</td></tr><tr><td>UNDT000011-SC3</td><td>@schemeName</td><td>xsd:string</td><td>string</td><td>optional</td><td>The name of the identification scheme.</td></tr><tr><td>UNDT000011-SC4</td><td>@schemeAgencyID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The identification of the agency that maintains the identification scheme.<br />Defaults to the UN/EDIFACT data element 3055 code list.</td></tr><tr><td>UNDT000011-SC5</td><td>@schemeAgencyName</td><td>xsd:string</td><td>string</td><td>optional</td><td>The name of the agency that maintains the identification scheme.</td></tr><tr><td>UNDT000011-SC6</td><td>@schemeVersionID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The version of the identification scheme.</td></tr><tr><td>UNDT000011-SC7</td><td>@schemeDataURI</td><td>xsd:anyURI</td><td>string</td><td>optional</td><td>The Uniform Resource Identifier that identifies where the identification scheme data is located.</td></tr><tr><td>UNDT000011-SC8</td><td>@schemeURI</td><td>xsd:anyURI</td><td>string</td><td>optional</td><td>The Uniform Resource Identifier that identifies where the identification scheme is located.</td></tr><tr><td>UNDT000012</td><td><strong>IndicatorType</strong></td><td>xsd:string</td><td>string</td><td>&nbsp;</td><td>A list of two mutually exclusive Boolean values that express the only possible states of a Property.</td></tr><tr><td>UNDT000012-SC2</td><td>@format</td><td>xsd:string</td><td>string</td><td>optional</td><td>Whether the indicator is numeric, textual or binary.</td></tr><tr><td>UNDT000013</td><td><strong>MeasureType</strong></td><td>xsd:decimal</td><td>decimal</td><td>&nbsp;</td><td>A numeric value determined by measuring an object along with the specified unit of measure.</td></tr><tr><td>UNDT000013-SC2</td><td>@unitCode</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The type of unit of measure.<br />Reference UNECE Rec. 20 and X12 355</td></tr><tr><td>UNDT000013-SC3</td><td>@unitCodeListVersionID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The version of the measure unit code list.</td></tr><tr><td>UNDT000014</td><td><strong>NumericType</strong></td><td>xsd:decimal</td><td>string</td><td>&nbsp;</td><td>Numeric information that is assigned or is determined by calculation, counting, or sequencing. It does not require a unit of quantity or unit of measure.</td></tr><tr><td>UNDT000014-SC2</td><td>@format</td><td>xsd:string</td><td>string</td><td>optional</td><td>Whether the number is an integer, decimal, real number or percentage.</td></tr><tr><td>UNDT000018</td><td><strong>QuantityType</strong></td><td>xsd:decimal</td><td>decimal</td><td>&nbsp;</td><td>A counted number of non-monetary units possibly including fractions.</td></tr><tr><td>UNDT000018-SC2</td><td>@unitCode</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The unit of the quantity</td></tr><tr><td>UNDT000018-SC3</td><td>@unitCodeListID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The quantity unit code list.</td></tr><tr><td>UNDT000018-SC4</td><td>@unitCodeListAgencyID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The identification of the agency that maintains the quantity unit code list<br />Defaults to the UN/EDIFACT data element 3055 code list.</td></tr><tr><td>UNDT000018-SC5</td><td>@unitCodeListAgencyName</td><td>xsd:string</td><td>string</td><td>optional</td><td>The name of the agency which maintains the quantity unit code list.</td></tr><tr><td>UNDT000019</td><td><strong>TextType</strong></td><td>xsd:string</td><td>string</td><td>&nbsp;</td><td>A character string (i.e. a finite set of characters) generally in the form of words of a language.</td></tr><tr><td>UNDT000019-SC2</td><td>@languageID</td><td>xsd:language</td><td>string</td><td>optional</td><td>The identifier of the language used in the content component.</td></tr><tr><td>UNDT000019-SC3</td><td>@languageLocaleID</td><td>xsd:normalizedString</td><td>string</td><td>optional</td><td>The identification of the locale of the language.</td></tr></tbody></table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<form id="nav-menu" class="form-inline flex-nowrap">
		<select id="language" class="form-control mr-0 border-0">
			<option value="en" >English</option>
			<option value="ja" selected>日本語</option>
		</select>
		<button class="back btn btn-outline-info my-2 my-sm-0 mr-0 border-0" onclick="goBack()"><i class="fa fa-history" aria-hidden="true" data-toggle="tooltip" title="前のページに戻る"></i></button>
		<button type="button" class="info btn btn-outline-info my-2 my-sm-0 mr-0 border-0" data-toggle="modal" data-target="#itemInfoModal">
			<i class="fa fa-info" aria-hidden="true" data-toggle="tooltip" title="凡例を表示"></i>
		</button>
		
		<li class="nav-item dropdown ja p-0" data-toggle="tooltip" data-placement="bottom" title="遷移メニュー">
			<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<i class="fa fa-list" aria-hidden="true"></i>
			</a>
			<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
				<a class="dropdown-item" href="/billing-japan/ja"><i class="fa fa-square mr-2" aria-hidden="true"> ホーム</i></a>
				<div class="dropdown-divider"></div>
				<a href="https://test-docs.peppol.eu/poacc/billing-japan/bis/" onClick="return confirm('Do you want to leave? This link is being provided by OpenPeppol for testing.')" class="external dropdown-item" target="_blank">
					Standard Commercial Invoice <i class="fa fa-external-link" aria-hidden="true"></i>
				</a>
				<a href="https://test-docs.peppol.eu/poacc/billing-japan/bis-debnt/bis/" onClick="return confirm('Do you want to leave? This link is being provided by OpenPeppol for testing.')" class="external dropdown-item" target="_blank">
					Debit note <i class="fa fa-external-link" aria-hidden="true"></i>
				</a>
				<a href="https://test-docs.peppol.eu/poacc/billing-japan/bis-sum1/bis/" onClick="return confirm('Do you want to leave? This link is being provided by OpenPeppol for testing.')" class="external dropdown-item" target="_blank">
					Summary invoice pattern 1 <i class="fa fa-external-link" aria-hidden="true"></i>
				</a>
				<a href="https://test-docs.peppol.eu/poacc/billing-japan/compliance/" onClick="return confirm('Do you want to leave? This link is being provided by OpenPeppol for testing.')" class="external dropdown-item" target="_blank">
					BIS compliance <i class="fa fa-external-link" aria-hidden="true"></i>
				</a>
				<a href="https://test-docs.peppol.eu/poacc/billing-japan/release-notes/" onClick="return confirm('Do you want to leave? This link is being provided by OpenPeppol for testing.')" class="external dropdown-item" target="_blank">
					Release notes <i class="fa fa-external-link" aria-hidden="true"></i>
				</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="/billing-japan/semantic/invoice/tree/ja/">都度請求書モデル</a>
				<a class="dropdown-item" href="/billing-japan/semantic/summarised/tree/ja/">合算請求書パターン１モデル</a>
				<a class="dropdown-item" href="/billing-japan/semantic/debitnote/tree/ja/">納品書モデル</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="/billing-japan/syntax/ubl-invoice/tree/ja/" class="back">都度請求書XML構文</a>
				<a class="dropdown-item" href="/billing-japan/syntax/ubl-summarised/tree/ja/" class="back">合算請求書パターン１XML構文</a>
				<a class="dropdown-item" href="/billing-japan/syntax/ubl-debitnote/tree/ja/" class="back">納品書XML</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="/billing-japan/rules/ubl-pint/ja/">PEPPOL PINTルール</a>
				<a class="dropdown-item" href="/billing-japan/rules/ubl-japan/ja/">都度請求書ルール</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="https://www.eipa.jp/">電子インボイス推進協議会</a>
			</div>
		</li>

	</form>
	<nav class="syntax navbar navbar-expand-lg navbar-light bg-light mb-3">
		<a class="navbar-brand col-8 mr-auto" href="https://test-docs.peppol.eu/poacc/billing-japan/">電子インボイス 国内標準仕様 - ドラフト 第一版</a>
	</nav>
	<div class="container">
		<div class="item-syntax">
			<ol class="breadcrumb pt-1 pb-1">				<li class="breadcrumb-item"><a href="https://test-docs.peppol.eu/poacc/billing-japan/"><i class="fa fa-square mr-2" aria-hidden="true"> ホーム</i></a></li>				<li class="breadcrumb-item"><a href="/billing-japan/syntax/ubl-invoice/tree/ja/">納品書XML構文</a></li>				<li class="breadcrumb-item"><a href="/billing-japan/syntax/ubl-invoice/ja/">Invoice</a></li>				<li class="breadcrumb-item"><a href="/billing-japan/syntax/ubl-invoice/cac-TaxTotal/ja">cac:TaxTotal</a></li>				<li class="breadcrumb-item"><a href="/billing-japan/syntax/ubl-invoice/cac-TaxTotal/cac-TaxSubtotal/ja">cac:TaxSubtotal</a></li>				<li class="breadcrumb-item"><a href="/billing-japan/syntax/ubl-invoice/cac-TaxTotal/cac-TaxSubtotal/cac-TaxCategory/ja">cac:TaxCategory</a></li>				<li class="breadcrumb-item active">cbc:Percent</li>			</ol>
			<div class="page-header">
				<h1>cbc:Percent</h1>
			</div>
			<p class="lead">課税分類毎の税額計算のための率。</p>
			<dl class="row">

				<dt class="col-2">ネームスペース</dt><dd class="col-10"><code>cbc</code> urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2</dd>
				<dt class="col-2">XPath</dt><dd class="col-10">/Invoice/cac:TaxTotal/cac:TaxSubtotal/cac:TaxCategory/cbc:Percent</dd>
				<dt class="col-2">UBL データ型</dt><dd class="col-10">PercentType</dd>
				<dt class="col-2">UBL要素の繰返し</dt><dd class="col-10">0..1</dd>
				<dt class="col-2">ビジネス用語ID</dt><dd class="col-10"><a href="/billing-japan/semantic/debitnote/ibt-119/ja/"><h5>ibt-119</h5></a></dd>
				<dt class="col-2">ビジネス用語</dt><dd class="col-10">課税分類毎の税率</dd>
				<dt class="col-2">セマンティックデータ型</dt><dd class="col-10">Percent</dd>
				<dt class="col-2">繰返し</dt><dd class="col-10">0..1 </dd>
				<dt class="col-2">追加説明</dt><dd class="col-10">数値表現は、小数点はピリオド、整数部分の1000単位の区切りはなし。<br />課税分類コードとは、消費税の課税分類属性(標準税率、軽減税率など)を識別するためのコードで、日本での運用においては、以下のとおりとする。<br />S Standard rate Consumption Tax (標準税率)<br />AA Lower rate Consumption Tax (軽減税率)<br />E Exempt from Tax (非課税取引)<br />G Free export item, Consumption Tax not charged (輸出取引)<br />O Outside scope of tax (売り手が登録事業者でない場合)</dd>
				<dt class="col-2">例</dt><dd class="col-10"><code>10</code></dd>

				<dt class="col-2">ビジネスルール</dt><dd class="col-10"><h5><a href="/billing-japan/rules/ubl-japan/jp-br-co-01/ja/">jp-br-co-01</a> (fatal)</h5>課税分類毎の消費税額(ibt-117) = 課税分類毎の課税基準額(ibt-116) x 課税分類毎の税率(ibt-119) / 100), 整数に丸める。丸めた結果の金額は、下限と上限の間になければならない。<br /><dl class="row"><dt class="col-3">対象(context)</dt><dd class="col-9"><code>/ubl:Invoice[cac:AccountingSupplierParty/cac:Party/cac:PostalAddress/cac:Country/cbc:IdentificationCode='JP']</code></dd><dt class="col-3">検証(test)</dt><dd class="col-9"><code>cac:TaxTotal/cac:TaxSubtotal/cac:TaxCategory/xs:decimal(cbc:Percent) != 0 and cac:TaxTotal/cac:TaxSubtotal/xs:decimal(cbc:TaxAmount) >= floor( cac:TaxTotal/cac:TaxSubtotal/xs:decimal(cbc:TaxableAmount) * (cac:TaxTotal/cac:TaxSubtotal/cac:TaxCategory/xs:decimal(cbc:Percent) div 100) ) and cac:TaxTotal/cac:TaxSubtotal/xs:decimal(cbc:TaxAmount) <= ceiling( cac:TaxTotal/cac:TaxSubtotal/xs:decimal(cbc:TaxableAmount) * (cac:TaxTotal/cac:TaxSubtotal/cac:TaxCategory/xs:decimal(cbc:Percent) div 100) )</code></dd></dl><h5><a href="/billing-japan/rules/ubl-japan/jp-s-08/ja/">jp-s-08</a> (fatal)</h5>課税分類コード(ibt-118)が"標準税率"で課税分類毎の税率(ibt-119)が異なる値の場合、税内訳情報(ibg-23)での課税分類毎の課税基準額(ibt-116)は、請求される品目に対する課税分類コード、ドキュメントレベルの追加請求の課税分類コード、ドキュメントレベルの返還請求の課税分類コード(ibt-151,ibt-102,ibt-95)が"標準税率"で、請求される品目に対する税率、ドキュメントレベルの追加請求の税率、ドキュメントレベルの返還請求の税率(ibt-152,ibt-103,ibt-96)が課税分類毎の税率(ibt-119)と同じである、値引/割引後請求書明細行金額(ibt-131)+ドキュメントレベルの追加請求金額(ibt-99)-ドキュメントレベルの返還請求金額(ibt92)と同額でなければならない。<br /><dl class="row"><dt class="col-3">対象(context)</dt><dd class="col-9"><code>/ubl:Invoice[cac:AccountingSupplierParty/cac:Party/cac:PostalAddress/cac:Country/cbc:IdentificationCode='JP']/cac:TaxTotal/cac:TaxSubtotal/cac:TaxCategory[normalize-space(cbc:ID)='S'][cac:TaxScheme/normalize-space(upper-case(cbc:ID))='VAT']</code></dd><dt class="col-3">検証(test)</dt><dd class="col-9"><code>every $rate in xs:decimal(cbc:Percent) satisfies ( ( ( exists(//cac:InvoiceLine[cac:Item/cac:ClassifiedTaxCategory/normalize-space(cbc:ID)='S'][cac:Item/cac:ClassifiedTaxCategory/xs:decimal(cbc:Percent)=$rate]) or exists(//cac:AllowanceCharge[cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]) ) and ( ( ../xs:decimal(cbc:TaxableAmount) <= ceiling( sum(../../../cac:InvoiceLine[cac:Item/cac:ClassifiedTaxCategory/normalize-space(cbc:ID)='S'][cac:Item/cac:ClassifiedTaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:LineExtensionAmount)) + sum(../../../cac:AllowanceCharge[cbc:ChargeIndicator=true()][cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:Amount)) - sum(../../../cac:AllowanceCharge[cbc:ChargeIndicator=false()][cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:Amount)) ) ) and ( ../xs:decimal(cbc:TaxableAmount) >= floor( sum(../../../cac:InvoiceLine[cac:Item/cac:ClassifiedTaxCategory/normalize-space(cbc:ID)='S'][cac:Item/cac:ClassifiedTaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:LineExtensionAmount)) + sum(../../../cac:AllowanceCharge[cbc:ChargeIndicator=true()][cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:Amount)) - sum(../../../cac:AllowanceCharge[cbc:ChargeIndicator=false()][cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:Amount)) ) ) ) ) or ( exists(//cac:CreditNoteLine[cac:Item/cac:ClassifiedTaxCategory/normalize-space(cbc:ID)='S'][cac:Item/cac:ClassifiedTaxCategory/xs:decimal(cbc:Percent)=$rate]) or exists(//cac:AllowanceCharge[cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]) ) and ( ( ../xs:decimal(cbc:TaxableAmount) <= ceiling( sum(../../../cac:CreditNoteLine[cac:Item/cac:ClassifiedTaxCategory/normalize-space(cbc:ID)='S'][cac:Item/cac:ClassifiedTaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:LineExtensionAmount)) + sum(../../../cac:AllowanceCharge[cbc:ChargeIndicator=true()][cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:Amount)) - sum(../../../cac:AllowanceCharge[cbc:ChargeIndicator=false()][cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:Amount)) ) ) and ( ../xs:decimal(cbc:TaxableAmount) >= floor( sum(../../../cac:CreditNoteLine[cac:Item/cac:ClassifiedTaxCategory/normalize-space(cbc:ID)='S'][cac:Item/cac:ClassifiedTaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:LineExtensionAmount)) + sum(../../../cac:AllowanceCharge[cbc:ChargeIndicator=true()][cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:Amount)) - sum(../../../cac:AllowanceCharge[cbc:ChargeIndicator=false()][cac:TaxCategory/normalize-space(cbc:ID)='S'][cac:TaxCategory/xs:decimal(cbc:Percent)=$rate]/xs:decimal(cbc:Amount)) ) ) ) )</code></dd></dl><h5><a href="/billing-japan/rules/ubl-japan/jp-s-09/ja/">jp-s-09</a> (fatal)</h5>税内訳情報(ibg-23)で、課税分類コード(ibt-118)が"標準税率"である課税分類毎の消費税額(ibt-117)は、課税分類毎の課税基準額(ibt-116) x 課税分類毎の税率(ibt-119)と同額でなければならない。<br /><dl class="row"><dt class="col-3">対象(context)</dt><dd class="col-9"><code>/ubl:Invoice[cac:AccountingSupplierParty/cac:Party/cac:PostalAddress/cac:Country/cbc:IdentificationCode='JP']/cac:TaxTotal/cac:TaxSubtotal/cac:TaxCategory[normalize-space(cbc:ID)='S'][cac:TaxScheme/normalize-space(upper-case(cbc:ID))='VAT']</code></dd><dt class="col-3">検証(test)</dt><dd class="col-9"><code>../xs:decimal(cbc:TaxAmount) >= floor(xs:decimal(../cbc:TaxableAmount) * (xs:decimal(cbc:Percent) div 100)) and ../xs:decimal(cbc:TaxAmount) <= ceiling(xs:decimal(../cbc:TaxableAmount) * (xs:decimal(cbc:Percent) div 100))</code></dd></dl></dd>

	<div id="infoCAR_Modal" class="modal" tabindex="-1" role="dialog">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">繰返しの違いの調整
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					
	<dl class="row">
		<dt class="col-3">CAR-1</dt>
		<dd class="col-9">Semantic: optional(0..x) → Syntax: mandatory(1..x)<br />
			[問題] 要素がないと、UBLのスキーマ検証でエラーとなる。<br />
			[対策] 欠損した時のデフォルト値を決めておく。(例 0, 1-1-1970, AAA)
		</dd>
		<dt class="col-3">CAR-2</dt>
		<dd class="col-9">Semantic: mandatory(1..x) → Syntax: optional(0..x)<br />
			[問題] 問題なし。<br />
			[対策] データがなければならないことをスキーマトロンでルール定義する。
		</dd>
		<dt class="col-3">CAR-3</dt>
		<dd class="col-9">Semantic: single(x..1) → Syntax: multiple(x..n)<br />
			[問題] 問題なし。<br />
			[対策] データを繰り返さないようにスキーマトロンでルール定義する。
		</dd>
		<dt class="col-3">CAR-4</dt>
		<dd class="col-9">Semantic: multiple(x..n) → Syntax: single(x..1)<br />
			[問題] 繰返された要素は、受け付けられない。<br />
			[対策]<br />
			&nbsp;&nbsp;1) 可能なときには、上位の要素で繰り返す。<br />
			&nbsp;&nbsp;2) テキストデータのときには、文章を連結する。
		</dd>
		<dt class="col-3">CAR-5</dt>
		<dd class="col-9">element missing → Syntax: element mandatory<br />
			[問題] 問題。<br />
			[対策] 欠損した時のデフォルト値を決めておく。(例 0, 1-1-1970, AAA)
		</dd>
	</dl>

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

			</dl>
		</div>
	</div>
	<button id="gotoTopButton" type="button" class="btn btn-secondary" data-toggle="tooltip" data-placement="top" title="先頭に戻る">
  	<i class="fa fa-arrow-up fa-2x" aria-hidden="true"></i>
	</button>

	<script type="text/javascript" class="init">
		$(document).ready(function() {
			alertText = document.getElementById('ie-warning').innerText.trim();
			if (/Trident\/|MSIE /.test(window.navigator.userAgent)) {
				confirm(alertText);
				var expands = document.getElementsByClassName('expand');
				for (var i = 0; i < expands.length; i++) {
					expands[i].style.display = 'none';
				}
			}

			initModule();
		});
	</script>
</body></html>