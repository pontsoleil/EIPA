/**
 * ajax.min.js
 *
 * This is a free to use open source software and licensed under the MIT License
 * CC-SA-BY Copyright (c) 2013-2020, Nobuyuki SAMBUICHI
 **/
function ajaxRequest(e,t,o,n){let s,a;n||(n=18e4);const r=new Promise((e,t)=>{a=setTimeout(()=>{clearTimeout(a),s.abort(),t({status:"timeout",statusText:`Timed out in ${n}ms.`})},n)});return Promise.race([function(e,t,o){return new Promise(function(n,r){if(s=new XMLHttpRequest,"POST"===o.toUpperCase())s.open(o,e,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded");else if("GET"===o.toUpperCase()){if(t){let o=[];for(let e in t)o.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));e+=`?${o.join("&")}`}s.open(o,e,!0)}s.onreadystatechange=function(){let t;0===s.readyState?console.log(e,o,"UNSENT"):1===s.readyState?console.log(e,o,"OPENED"):2===s.readyState?console.log(e,o,"HEADERS_RECEIVED"):3===s.readyState?console.log(e,o,"LOADING"):4===s.readyState?(console.log(e,o,"DONE status:",s.status),clearTimeout(a),200===s.status?(t=s.responseText,n(t)):404===s.status?(t=s.responseText,n(t)):(console.log("xhr failed"),console.log(e,o,"DONE status:",s.status),r({status:this.status,statusText:s.statusText}))):console.log("xhr processing going on xhr.readyState="+s.readyState)},"POST"===o.toUpperCase()?("object"==typeof t&&(t=function(e){var t="";for(var o in e)e.hasOwnProperty(o)&&(t.length>0&&(t+="&"),"object"==typeof e[o]?t+=encodeURI(o+"="+JSON.stringify(e[o])):t+=encodeURI(o+"="+e[o]));return t}(t)),s.send(t)):"GET"===o.toUpperCase()&&s.send(),console.log("request sent succesfully to ",e)})}(e,t,o),r])}function AjaxSubmit(e){return new Promise(function(t,o){e.action||o(new Error("No action specified."));var n=new XMLHttpRequest;if(n.timeout=18e4,n.onload=function(){t(this.responseText)},n.ontimeout=function(e){o(e)},"post"===e.method.toLowerCase())n.open("post",e.action),n.send(new FormData(e));else{var s,a,r,i,c="";for(r=0;r<e.elements.length;r++)if((s=e.elements[r]).hasAttribute("name"))if("FILE"===(a="INPUT"===s.nodeName.toUpperCase()?s.getAttribute("type").toUpperCase():"TEXT"))for(i=0;i<s.files.length;c+="&"+n(s.name)+"="+encodeURIComponent(s.files[i++].name));else("RADIO"!==a&&"CHECKBOX"!==a||s.checked)&&(c+="&"+encodeURIComponent(s.name)+"="+encodeURIComponent(s.value));n.open("get",e.action.replace(/(?:\?.*)?$/,c.replace(/^&/,"?")),!0),n.send(null)}})}function googleTranslate(e){if(!e)return"";return ajaxRequest("https://translation.googleapis.com/language/translate/v2",{key:"AIzaSyC-Vci4nO4HRtcnwrP8OyckvUHZPbpFOP4",q:e,target:"ja"},"POST",1e3).then(function(e){try{return JSON.parse(e).data.translations}catch(e){return console.log(e),"ERROR:"+JSON.stringify(e)}}).catch(function(e){return console.log(e),"ERROR:"+JSON.stringify(e)})}