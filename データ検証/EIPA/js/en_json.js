var en = {
  "name":"root",
  "val":[{
    "BT-1":{
      "name":"Invoice number",
      "val":[
        12115118
      ]
    },
    "BT-2":{
      "name":"Invoice issue date",
      "val":[
        {
          "@format":102
        },
        20150109
      ]
    },
    "BT-3":{
      "name":"Invoice type code",
      "val":[
        380
      ]
    },
    "BT-5":{
      "name":"Invoice currency code",
      "val":[
        "EUR"
      ]
    },
    "BT-6":{
      "name":"VAT accounting currency code",
      "val":[]
    },
    "BG-3":{
      "name":"PRECEDING INVOICE REFERENCE",
      "val":[]
    },
    "BT-7":{
      "name":"Value added tax point date",
      "val":[]
    },
    "BT-8":{
      "name":"Value added tax point date code",
      "val":[
        null,
        null
      ]
    },
    "BG-23":{
      "name":"VAT BREAKDOWN",
      "val":[
        {
          "BT-116":{
            "name":"VAT category taxable amount",
            "val":[
              183.23
            ]
          },
          "BT-117":{
            "name":"VAT category tax amount",
            "val":[
              10.99
            ]
          },
          "BT-118":{
            "name":"VAT category code",
            "val":[
              "VAT"
            ]
          },
          "BT-119":{
            "name":"VAT category rate",
            "val":[
              6
            ]
          },
          "BT-120":{
            "name":"VAT exemption reason text"
          },
          "BT-121":{
            "name":"VAT exemption reason code"
          }
        },
        {
          "BT-116":{
            "name":"VAT category taxable amount",
            "val":[
              46.37
            ]
          },
          "BT-117":{
            "name":"VAT category tax amount",
            "val":[
              9.74
            ]
          },
          "BT-118":{
            "name":"VAT category code",
            "val":[
              "VAT"
            ]
          },
          "BT-119":{
            "name":"VAT category rate",
            "val":[
              21
            ]
          },
          "BT-120":{
            "name":"VAT exemption reason text"
          },
          "BT-121":{
            "name":"VAT exemption reason code"
          }
        }
      ]
    },
    "BT-9":{
      "name":"Payment due date",
      "val":[
        {
          "@format":102
        },
        20150109
      ]
    },
    "BT-10":{
      "name":"Buyer reference"
    },
    "BT-20":{
      "name":"Payment terms"
    },
    "BG-1":{
      "name":"INVOICE NOTE",
      "val":[]
    },
    "BG-2":{
      "name":"PROCESS CONTROL",
      "val":[]
    },
    "BG-4":{
      "name":"SELLER",
      "val":[]
    },
    "BG-7":{
      "name":"BUYER",
      "val":[]
    },
    "BG-13":{
      "name":"DELIVERY INFORMATION",
      "val":[]
    },
    "BG-16":{
      "name":"PAYMENT INSTRUCTIONS",
      "val":[]
    },
    "BG-22":{
      "name":"DOCUMENT TOTALS",
      "val":[]
    },
    "BG-25":{
      "name":"INVOICE LINE",
      "val":[
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              1
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              19.9
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              2
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              9.85
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              3
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              8.29
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              4
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              14.46
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              5
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              35
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              6
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              35
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              7
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              10.65
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              8
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              1.55
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              9
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              3
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              3
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              14.37
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              10
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              8.29
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              11
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              16.58
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              12
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              9.95
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              13
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              3.3
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              14
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              10.8
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              15
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              3.9
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              16
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              7.6
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              17
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              2
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              9.34
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              18
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              1
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              18.63
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              19
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              6
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              6
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              102.12
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        },
        {
          "BT-126":{
            "name":"Invoice line identifier",
            "val":[
              20
            ]
          },
          "BT-129":{
            "name":"Invoiced quantity",
            "val":[
              { "@unitCode":"H87" },
              6
            ]
          },
          "BT-130":{
            "name":"Invoiced quantity unit of measure",
            "val":[
              { "@unitCode":"H87" },
              6
            ]
          },
          "BT-131":{
            "name":"Invoice line net amount",
            "val":[
              -109.98
            ]
          },
          "BG-29":{
            "name":"PRICE DETAILS",
            "val":[]
          },
          "BG-30":{
            "name":"LINE VAT INFORMATION",
            "val":[]
          },
          "BG-31":{
            "name":"ITEM INFORMATION",
            "val":[]
          }
        }
      ]
    }
  }]
};

var traverse = function(seq, path, current) {
  if ('Array' === current.constructor.name) {
    if (1 === current.length && 'Object' !== current[0].constructor.name) {
      console.log(seq, path, current[0]);
    }
    else if (current.length > 1 && current[1] && 'Object' !== current[1].constructor.name) {
      console.log(seq, path, current[0]);
      console.log(seq, path, current[1]);
    }
  }
  //process current node here
  for (var i = 0; i < current.length; i++) {
    var val = current[i];
    //visit children of current
    if ('object' == typeof val) {
      for (var idx in val) {
        var item = val[idx];
        var children = item.val;
        if (children && children.length > 0) {
          traverse(i, path+'/'+idx, children);
        }
      }
    }
  }
}

//call on root node
// traverse(0, '', en.val);